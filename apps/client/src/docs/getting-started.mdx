import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert"
import { Info, AlertTriangle} from "lucide-react"
import { DocsPager } from "@/components/docs/DocsPager";

# Getting Started with the API

This guide provides instructions on how to obtain an API key and understand the necessary scopes for interacting with the Professo API.

## Obtaining an API Key

To interact with the Professo API, you first need an API key. Follow these steps to generate one:

1.  **Navigate to Settings:** Log in to your Professo account and go to the [Settings page](/settings).
2.  **Access API Keys:** Select the "API Keys" section from the settings menu (usually located at `/settings/api-keys`).
3.  **Create New Key:** Click on the "Create New API Key" button.
4.  **Name Your Key:** Give your key a descriptive name (e.g., "CI/CD Pipeline Key", "Local Dev Key") to help you identify its purpose later.
5.  **Select Scopes:** Choose the permissions (scopes) that this key will have. See the section below for more details on scopes. It's best practice to grant only the necessary permissions.
6.  **Generate & Copy:** Click "Generate Key". Your new API key will be displayed **only once**. Make sure to copy it immediately and store it securely. **Do not share your API key or commit it to version control.**

## Understanding Scopes

Scopes define the specific actions an API key is allowed to perform. When creating a key, you select the scopes it should have. This follows the principle of least privilege, enhancing security.

Currently, the following scopes are available:

-   `trace:upload`: Allows the API key to upload new trace files via the `/api/upload-trace` endpoint.

*More scopes may be added in the future as API functionality expands.*

## Using Your API Key

When making API requests, you must include your API key in the `Authorization` header as a Bearer token:

```
Authorization: Bearer YOUR_API_KEY
```

Replace `YOUR_API_KEY` with the actual key you generated.

## API Base URL

The current base URL for all API endpoints is:

```
https://jczffinsulwdzhgzggcj.supabase.co/functions/v1
```

<Alert variant="warning" className="mt-4">
  <AlertTriangle className="h-4 w-4" />
  <AlertTitle>Note on Base URL</AlertTitle>
  <AlertDescription className="ml-3">
    <b>Please note:</b> This URL might change in the future as the product moves beyond the alpha stage. Stay tuned for updates.
  </AlertDescription>
</Alert>

Remember to keep your API keys confidential and manage their scopes appropriately. 

<DocsPager title="API Trace Upload" href="/docs/api" /> 